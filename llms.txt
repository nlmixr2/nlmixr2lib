# nlmixr2lib

This is a model library for `nlmixr2`. The package allows a few ways to
interact with the model library:

``` r
# See all available models
modellib()
# Load the "PK_1cmt" model
modellib(name="PK_1cmt")
# Switch residual error to additive
modellib(name="PK_1cmt", reserr = "addSd")
# Add inter-individual variability on ka and v and switch residual error to
# additive and proportional
modellib(name="PK_1cmt", eta = c("lka", "lv"), reserr = c("addSd", "propSd"))
```

# Modifying models by piping

You may also modify any model from the library (or your own models) with
a piping interface. The code below adds inter-individual variability on
ka and v and then switches residual error to additive and proportional.

``` r
modellib(name="PK_1cmt") |>
  addEta(c("lka", "lv") |>
  addResErr(c("addSd", "propSd"))
```

# Possible extensions

The `modellib` function is set-up in way that it can be easily extended
and used in other applications. A possible extension could be
implementation in a shiny app. An app can be created to easily add new
models to the model library database (curated?), and directly make these
models available for other users. I believe there can be added value in
having a base model library that can be easily extended by the community
this way.

# Package index

## All functions

- [`addBaseline1exp()`](https://nlmixr2.github.io/nlmixr2lib/reference/addBaseline1exp.md)
  : Add baseline that decays exponential with time
- [`addBaselineConst()`](https://nlmixr2.github.io/nlmixr2lib/reference/addBaselineConst.md)
  : Add an estimated baseline constant
- [`addBaselineExp()`](https://nlmixr2.github.io/nlmixr2lib/reference/addBaselineExp.md)
  : Add baseline that decays exponential with time
- [`addBaselineLin()`](https://nlmixr2.github.io/nlmixr2lib/reference/addBaselineLin.md)
  : Add an estimated baseline linear constant
- [`addCmtProp()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  [`addBioavailability()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  [`addLag()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  [`addDur()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  [`addRate()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  [`addIni()`](https://nlmixr2.github.io/nlmixr2lib/reference/addCmtProp.md)
  : Add a property to a compartment
- [`addDepot()`](https://nlmixr2.github.io/nlmixr2lib/reference/addDepot.md)
  : To convert from infusion/intravenous administration to first-order
  oral absorption
- [`addDirToModelDb()`](https://nlmixr2.github.io/nlmixr2lib/reference/addDirToModelDb.md)
  [`addFileToModelDb()`](https://nlmixr2.github.io/nlmixr2lib/reference/addDirToModelDb.md)
  : Add a directory to the modeldb
- [`addDirectLin()`](https://nlmixr2.github.io/nlmixr2lib/reference/addDirectLin.md)
  : Add direct linear effect with baseline=0
- [`addEffectCmtLin()`](https://nlmixr2.github.io/nlmixr2lib/reference/addEffectCmtLin.md)
  : Add effect compartment
- [`addEta()`](https://nlmixr2.github.io/nlmixr2lib/reference/addEta.md)
  : Add random effects to a model
- [`addIndirect()`](https://nlmixr2.github.io/nlmixr2lib/reference/addIndirect.md)
  : Add an indirect response model to a PK model
- [`addIndirectLin()`](https://nlmixr2.github.io/nlmixr2lib/reference/addIndirectLin.md)
  : Add linear indirect response model
- [`addLogEstimates()`](https://nlmixr2.github.io/nlmixr2lib/reference/addLogEstimates.md)
  : Add log estimates to a model
- [`addResErr()`](https://nlmixr2.github.io/nlmixr2lib/reference/addResErr.md)
  : Add residual error to a model
- [`addTransit()`](https://nlmixr2.github.io/nlmixr2lib/reference/addTransit.md)
  : To add transit compartments to the model
- [`addWeibullAbs()`](https://nlmixr2.github.io/nlmixr2lib/reference/addWeibullAbs.md)
  : Converts first order absorption model to Weibull absorption model
- [`combinePaste2()`](https://nlmixr2.github.io/nlmixr2lib/reference/combinePaste2.md)
  : Combine two strings using a naming convention
- [`convertEmax()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertEmax.md)
  : Convert linear effect to Emax effect
- [`convertEmaxHill()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertEmaxHill.md)
  : Convert linear effect to Emax-Hill effect
- [`convertKinR0()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertKinR0.md)
  : Convert a kin/kout indirect response model to R0 and kout
- [`convertLogLin()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertLogLin.md)
  : Converts a linear effect to a log-linear effect
- [`convertMM()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertMM.md)
  : Convert models from linear elimination to Michaelis-Menten
  elimination
- [`convertQuad()`](https://nlmixr2.github.io/nlmixr2lib/reference/convertQuad.md)
  : Convert linear elimination to quadratic elimination
- [`createMarkovModel()`](https://nlmixr2.github.io/nlmixr2lib/reference/createMarkovModel.md)
  : Create a Markov model for \`nlmixr2\`
- [`createMarkovModelDataset()`](https://nlmixr2.github.io/nlmixr2lib/reference/createMarkovModelDataset.md)
  : Create a Markov model dataset for use in estimating Markov models
- [`createMarkovModelFromSingleState()`](https://nlmixr2.github.io/nlmixr2lib/reference/createMarkovModelFromSingleState.md)
  : Create the parts of a Markov model for transitioning from a single
  state
- [`createMarkovTransitionMatrix()`](https://nlmixr2.github.io/nlmixr2lib/reference/createMarkovTransitionMatrix.md)
  : Create a Markov transition matrix with probabilities of
  transitioning between every state
- [`defaultCombine()`](https://nlmixr2.github.io/nlmixr2lib/reference/defaultCombine.md)
  [`snakeCombine()`](https://nlmixr2.github.io/nlmixr2lib/reference/defaultCombine.md)
  [`camelCombine()`](https://nlmixr2.github.io/nlmixr2lib/reference/defaultCombine.md)
  [`dotCombine()`](https://nlmixr2.github.io/nlmixr2lib/reference/defaultCombine.md)
  [`blankCombine()`](https://nlmixr2.github.io/nlmixr2lib/reference/defaultCombine.md)
  : Default combine strings
- [`fakeCc()`](https://nlmixr2.github.io/nlmixr2lib/reference/fakeCc.md)
  : Fake blank Cc for creating PD only models
- [`modeldb`](https://nlmixr2.github.io/nlmixr2lib/reference/modeldb.md)
  : Model library for nlmixr2
- [`modellib()`](https://nlmixr2.github.io/nlmixr2lib/reference/modellib.md)
  : Get the model from the model library
- [`pkTrans()`](https://nlmixr2.github.io/nlmixr2lib/reference/pkTrans.md)
  : Change the transformation type for PK models
- [`readModelDb()`](https://nlmixr2.github.io/nlmixr2lib/reference/readModelDb.md)
  : Read a model from the nlmixr2 model database
- [`removeDepot()`](https://nlmixr2.github.io/nlmixr2lib/reference/removeDepot.md)
  : To convert from first order oral absorption to IV/Intravenous
- [`removeLinesAndInis()`](https://nlmixr2.github.io/nlmixr2lib/reference/removeLinesAndInis.md)
  : Removes lines and inis from a model
- [`removeTransit()`](https://nlmixr2.github.io/nlmixr2lib/reference/removeTransit.md)
  : To remove transit compartments from the model
- [`searchReplace()`](https://nlmixr2.github.io/nlmixr2lib/reference/searchReplace.md)
  [`searchReplaceHelper()`](https://nlmixr2.github.io/nlmixr2lib/reference/searchReplace.md)
  : Search within a model to replace part of the model
- [`setCombineType()`](https://nlmixr2.github.io/nlmixr2lib/reference/setCombineType.md)
  : Change the default combine type for the package
- [`simMarkov()`](https://nlmixr2.github.io/nlmixr2lib/reference/simMarkov.md)
  : Convert nlmixr2 simulations to Markov states
- [`simMarkovId()`](https://nlmixr2.github.io/nlmixr2lib/reference/simMarkovId.md)
  : Simulate a Markov model broken down by ID
- [`updateOncologyXenograftSimeoni2004()`](https://nlmixr2.github.io/nlmixr2lib/reference/updateOncologyXenograftSimeoni2004.md)
  : Update an oncology xenograft model based on Simeoni 2004

# Articles

### All vignettes

- [Creating a model
  library](https://nlmixr2.github.io/nlmixr2lib/articles/create-model-library.md):
- [Trontinemab and gantenerumab PK in plasma and brain (Grimm
  2023)](https://nlmixr2.github.io/nlmixr2lib/articles/Grimm_2023.md):
- [Kyhl_2016_nalmefene](https://nlmixr2.github.io/nlmixr2lib/articles/Kyhl_2016_nalmefene.md):
- [List of
  models](https://nlmixr2.github.io/nlmixr2lib/articles/list-of-models.md):
- [Markov
  modeling](https://nlmixr2.github.io/nlmixr2lib/articles/markov.md):
- [Xie_2019_agomelatine](https://nlmixr2.github.io/nlmixr2lib/articles/Xie_2019_agomelatine.md):
